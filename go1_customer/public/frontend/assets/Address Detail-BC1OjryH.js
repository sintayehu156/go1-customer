var k=(c,l,m)=>new Promise((e,u)=>{var p=o=>{try{r(m.next(o))}catch(a){u(a)}},b=o=>{try{r(m.throw(o))}catch(a){u(a)}},r=o=>o.done?e(o.value):Promise.resolve(o.value).then(p,b);r((m=m.apply(c,l)).next())});import{L as I}from"./LeftSidebar-DIvzo2_q.js";import{_ as O,b as P,r as t,c as R,o as j,e as S,f as i,g as n,n as B,t as G,v as J,x as U,u as M,y as q,h as g,i as x}from"./index-CMQgrs3Q.js";import{_ as H}from"./Breadcrumbs.vue_vue_type_script_setup_true_lang-CtZvVT_t.js";import{a as K}from"./FormControl.vue_vue_type_script_setup_true_lang-DxvH2exx.js";import"./index-mgISJYoh.js";const Q={components:{LeftSidebar:I,Breadcrumbs:H,Button:P,FormControl:K},setup(){const c=M(),l=q(),m=t(!1),e=t(!1),u=t(""),p=t(""),b=t(""),r=t(""),o=t(""),a=t(""),s=t(""),y=t(""),_=t(""),f=t(""),V=t(""),E=t(""),C=t(""),A=R({url:"go1_customer.go1_customer.api.api.get_address",method:"get"}),w=t([{label:"Addresses",route:{name:"addresses"}},{label:"New",route:{}}]),L=[{label:"Billing",value:"Billing"},{label:"Shipping",value:"Shipping"}],z=()=>k(this,null,function*(){try{const v=l.params.id,d=(yield A.fetch()).find(F=>F.name===v);d&&(u.value=d.address_title,p.value=d.address_type,b.value=d.address_line1,r.value=d.address_line2,o.value=d.city,a.value=d.state,s.value=d.pincode,y.value=d.country,_.value=d.email_id,f.value=d.phone,V.value=d.gstin,E.value=d.links_doctype,C.value=d.link_name)}catch(v){console.error("Error fetching address details:",v)}}),T=()=>{e.value=!0},D=()=>{e.value=!1,z()},N=()=>k(this,null,function*(){const v=l.params.id;if(!v)return;const h={address_title:u.value,address_type:p.value,address_line1:b.value,address_line2:r.value,city:o.value,state:a.value,pincode:s.value,country:y.value,email_id:_.value,phone:f.value,gstin:V.value,links_doctype:E.value,link_name:C.value};try{if(!(yield fetch(`/api/resource/Address/${v}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)})).ok)throw new Error("Error updating address");e.value=!1,c.push({name:"addresses"})}catch(d){console.error("Error updating address:",d)}});return j(()=>{z()}),{isSidebarCollapsed:m,isEditing:e,address_title:u,address_type:p,address_line1:b,address_line2:r,city:o,state:a,pincode:s,country:y,email_id:_,phone:f,gstin:V,links_doctype:E,link_name:C,breadcrumbsList:w,statusOptions:L,startEditing:T,cancelEditing:D,submitChanges:N}}},W={class:"head-content"},X={class:"border-b bg-white px-5 py-6.5 pb-[2.625rem] sm:px-5 mb-12"},Y={class:"main-content"},Z={class:"bg-white shadow-md rounded-lg p-6 space-y-6 pb-[2.625rem]"},$={class:"float-left mb-1 text-9xl font-bold text-gray-800 -mt-2",style:{"font-size":"1.85rem"}},ee={class:"text-9xl font-bold text-gray-600",style:{"font-size":"1rem"}},le={class:"float-right mb-1"},se={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ae={key:0,class:"float-right flex gap-4"};function de(c,l,m,e,u,p){const b=g("Breadcrumbs"),r=g("LeftSidebar"),o=g("Button"),a=g("FormControl");return x(),S("div",null,[i("div",{class:B(["head-layout",{collapsed:e.isSidebarCollapsed}])},[i("div",W,[i("header",X,[n(b,{items:e.breadcrumbsList,class:"float-left"},null,8,["items"])])])],2),i("div",{class:B(["layout",{collapsed:e.isSidebarCollapsed}])},[n(r,{isCollapsed:e.isSidebarCollapsed,onToggle:c.toggleSidebar},null,8,["isCollapsed","onToggle"]),i("div",Y,[i("div",Z,[i("div",$,[l[11]||(l[11]=i("p",null,"Address",-1)),i("p",ee,G(c.subject),1)]),i("div",le,[e.isEditing?U("",!0):(x(),J(o,{key:0,variant:"solid",theme:"gray",size:"md",label:"Edit",disabled:!1,onClick:e.startEditing},null,8,["onClick"]))]),l[12]||(l[12]=i("div",{class:"border-b pb-7 pt-10"},null,-1)),i("div",se,[i("div",null,[n(a,{type:"text",size:"md",variant:"subtle",label:"Address Title",disabled:!e.isEditing,modelValue:e.address_title,"onUpdate:modelValue":l[0]||(l[0]=s=>e.address_title=s),class:"mb-5"},null,8,["disabled","modelValue"]),n(a,{type:"select",size:"md",options:e.statusOptions,disabled:!e.isEditing,variant:"subtle",label:"Address Type",modelValue:e.address_type,"onUpdate:modelValue":l[1]||(l[1]=s=>e.address_type=s),class:"mb-5"},null,8,["options","disabled","modelValue"]),n(a,{type:"text",size:"md",variant:"subtle",label:"Address Line 1",disabled:!e.isEditing,modelValue:e.address_line1,"onUpdate:modelValue":l[2]||(l[2]=s=>e.address_line1=s),class:"mb-5"},null,8,["disabled","modelValue"]),n(a,{type:"text",size:"md",variant:"subtle",label:"Address Line 2",disabled:!e.isEditing,modelValue:e.address_line2,"onUpdate:modelValue":l[3]||(l[3]=s=>e.address_line2=s),class:"mb-5"},null,8,["disabled","modelValue"]),n(a,{type:"text",size:"md",variant:"subtle",label:"City",disabled:!e.isEditing,modelValue:e.city,"onUpdate:modelValue":l[4]||(l[4]=s=>e.city=s),class:"mb-5"},null,8,["disabled","modelValue"]),n(a,{type:"text",size:"md",variant:"subtle",label:"State",disabled:!e.isEditing,modelValue:e.state,"onUpdate:modelValue":l[5]||(l[5]=s=>e.state=s),class:"mb-5"},null,8,["disabled","modelValue"])]),i("div",null,[n(a,{type:"text",size:"md",variant:"subtle",disabled:!e.isEditing,label:"Country",modelValue:e.country,"onUpdate:modelValue":l[6]||(l[6]=s=>e.country=s),class:"mb-5"},null,8,["disabled","modelValue"]),n(a,{type:"number",size:"md",variant:"subtle",disabled:!e.isEditing,label:"Postal Code",modelValue:e.pincode,"onUpdate:modelValue":l[7]||(l[7]=s=>e.pincode=s),class:"mb-5"},null,8,["disabled","modelValue"]),n(a,{type:"email",size:"md",variant:"subtle",label:"Email",disabled:!e.isEditing,modelValue:e.email_id,"onUpdate:modelValue":l[8]||(l[8]=s=>e.email_id=s),class:"mb-5"},null,8,["disabled","modelValue"]),n(a,{type:"number",size:"md",variant:"subtle",disabled:!e.isEditing,label:"Phone",modelValue:e.phone,"onUpdate:modelValue":l[9]||(l[9]=s=>e.phone=s),class:"mb-5"},null,8,["disabled","modelValue"]),n(a,{type:"text",size:"md",disabled:!e.isEditing,variant:"subtle",label:"GSTIN",modelValue:e.gstin,"onUpdate:modelValue":l[10]||(l[10]=s=>e.gstin=s),class:"mb-5"},null,8,["disabled","modelValue"])])]),l[13]||(l[13]=i("div",{class:"border-b pb-7 pt-5"},null,-1)),i("div",null,[e.isEditing?(x(),S("div",ae,[n(o,{variant:"subtle",theme:"gray",size:"md",label:"Discard",disabled:!1,onClick:e.cancelEditing},null,8,["onClick"]),n(o,{variant:"solid",theme:"gray",size:"md",label:"Submit",disabled:!1,onClick:e.submitChanges},null,8,["onClick"])])):U("",!0)])])])],2)])}const ue=O(Q,[["render",de],["__scopeId","data-v-706c2b03"]]);export{ue as default};
