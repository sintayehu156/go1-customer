var y=Object.defineProperty,C=Object.defineProperties;var S=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var w=(t,e,a)=>e in t?y(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,R=(t,e)=>{for(var a in e||(e={}))k.call(e,a)&&w(t,a,e[a]);if(f)for(var a of f(e))x.call(e,a)&&w(t,a,e[a]);return t},b=(t,e)=>C(t,S(e));var h=(t,e,a)=>new Promise((o,r)=>{var m=s=>{try{i(a.next(s))}catch(l){r(l)}},c=s=>{try{i(a.throw(s))}catch(l){r(l)}},i=s=>s.done?o(s.value):Promise.resolve(s.value).then(m,c);i((a=a.apply(t,e)).next())});import{L}from"./LeftSidebar.894a8783.js";import{_ as q,P as M}from"./ListView.0c88aa81.js";import{_ as P,l as u,c as V,u as N,m as j,e as _,o as B,f as D,n as d,q as v,g}from"./vendor.72004f8a.js";import"./index.feff435d.js";const T={components:{LeftSidebar:L,ListView:q,Pagination:M},setup(){const t=u(!1),e=u([]),a=u([]),o=u([{label:"Name",key:"name",width:"200px"},{label:"Status",key:"status",width:"200px"},{label:"Date",key:"transaction_date",width:"200px"},{label:"Item",key:"item_name",width:"200px"}]),r=V({url:"go1_customer.go1_customer.api.api.get_material_request",method:"get"}),m=()=>h(this,null,function*(){try{const n=yield r.fetch();e.value=n.map(p=>b(R({},p),{total:String(p.total),item_name:p.items.length>0?p.items[0].item_name:"No items"})),console.log("Fetched data:",e.value)}catch(n){console.error("Error fetching data:",n)}}),c=()=>{t.value=!t.value},i=N(),s=n=>{console.log("Row clicked:",n),n&&n.name?i.push({name:"MaterialRDetails",params:{id:n.name}}):console.error("Row data is invalid:",n)},l=n=>{a.value=n};return j(()=>{m()}),{isSidebarCollapsed:t,rows:e,columns:o,toggleSidebar:c,OpenClick:s,updatePaginatedRows:l,paginatedRows:a}}},z={class:"main-content"};function E(t,e,a,o,r,m){const c=_("LeftSidebar"),i=_("ListView"),s=_("Pagination");return B(),D("div",null,[d("div",{class:v(["head-layout",{collapsed:o.isSidebarCollapsed}])},e[0]||(e[0]=[d("div",{class:"head-content"},[d("header",{class:"border-b bg-white px-5 py-2.5 sm:px-5"}," Material Request ")],-1)]),2),d("div",{class:v(["layout",{collapsed:o.isSidebarCollapsed}])},[g(c,{isCollapsed:o.isSidebarCollapsed,onToggle:o.toggleSidebar},null,8,["isCollapsed","onToggle"]),d("div",z,[g(i,{class:"h-[500px]",columns:o.columns,rows:o.paginatedRows,options:{getRowRoute:l=>({name:"MaterialRDetails",params:{id:l.name}}),selectable:!0,showTooltip:!0,resizeColumn:!0,emptyState:{title:"No records found"}},"row-key":"name",onRowClick:o.OpenClick},null,8,["columns","rows","options","onRowClick"]),g(s,{rows:o.rows,"onUpdate:paginatedRows":o.updatePaginatedRows},null,8,["rows","onUpdate:paginatedRows"])])],2)])}var G=P(T,[["render",E],["__scopeId","data-v-804f0ee0"]]);export{G as default};
